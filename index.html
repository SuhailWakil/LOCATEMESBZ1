<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Geolocation Display</title>
</head>
<body>
<h1>Received Geolocation Data</h1>
<p>X: <span id="x">N/A</span></p>
<p>Y: <span id="y">N/A</span></p>
<p>Latitude: <span id="latitude">N/A</span></p>
<p>Longitude: <span id="longitude">N/A</span></p>

<script>
    // Create a WebSocket connection to the server
    const socket = new WebSocket('ws://localhost:3000'); // Replace with your server URL

    // Function to update the display with received data
    function updateDisplay(data) {
        if (data.x !== undefined && data.y !== undefined) {
            document.getElementById('x').textContent = data.x;
            document.getElementById('y').textContent = data.y;
        }

        if (data.geolocation && data.geolocation.latitude !== undefined && data.geolocation.longitude !== undefined) {
            document.getElementById('latitude').textContent = data.geolocation.latitude;
            document.getElementById('longitude').textContent = data.geolocation.longitude;
        }
    }

    // Handle messages from the server
    socket.addEventListener('message', (event) => {
        const data = JSON.parse(event.data);
        updateDisplay(data);
    });

    // Handle connection open event
    socket.addEventListener('open', () => {
        console.log('Connected to WebSocket');
    });

    // Handle connection close event
    socket.addEventListener('close', () => {
        console.log('Disconnected from WebSocket');
    });
</script>
</body>
</html>
